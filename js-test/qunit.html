<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" 
                    "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <script src="http://code.jquery.com/jquery-latest.js"></script>
  <link rel="stylesheet" href="http://code.jquery.com/qunit/git/qunit.css" type="text/css" media="screen" />
  <script type="text/javascript" src="http://code.jquery.com/qunit/git/qunit.js"></script>

  <script type="text/javascript" src="../js/ThreeOneOneApi.js"></script>

  <script>
    $(document).ready(function(){
    
      test("a basic test example", function() {
        ok( true, "this test is fine" );
        var value = "hello";
        equal( value, "hello", "We expect value to be hello" );
      });

      module("Module A");

      test("first test within module", function() {
        ok( true, "all pass" );
      });
    
      test("second test within module", function() {
        ok( true, "all pass" );
      });
    
      module("Experimental ThreeOneOneApi");

      test("find should return results async", function() {
    
        // create an array to hold all the results
        results = new Array();

        // init the ThreeOneOneApi object
        api = new ThreeOneOneApi();

        // the call to the API is made asynchrnously with jquery getJSON
        // we pause the test here to give time for the callbacks to occur
        stop();

		// make the call to the API, pass callback function to capture result
        api._find('requests', null, results, 0, function(data) {
          equal(data[0].length, 100, "did not get 100 objects in response");    
          console.log(data);  
        });

        // after 2 seconds, resume the test to check that assertions were correct
        setTimeout(function() {
          start()          
        }, 30000);

      });

    });
  </script>
</head>

<body>
  <h1 id="qunit-header">QUnit example</h1>
  <h2 id="qunit-banner"></h2>
  <div id="qunit-testrunner-toolbar"></div>
  <h2 id="qunit-userAgent"></h2>
  <ol id="qunit-tests"></ol>
  <div id="qunit-fixture">test markup, will be hidden</div>
</body>

</html>
